sealed class Scope
object Public : Scope()
object Private : Scope()

interface DependencyContainer {
    val dependencies: MutableList<Dependency>
}

class Dependency(
    val scope: Scope,
    val targetId: String
)

class DependencyBuilder(
    val dependencies: MutableList<Dependency>
) {
    fun public(id: String) = dependencies.add(Dependency(Public, id))
    fun public(module: AbstractModule) = public("")
    fun private(id: String) = dependencies.add(Dependency(Private, id))
    fun private(module: AbstractModule) = private("")
}

fun DependencyContainer.dependencies(body: DependencyBuilder.() -> Unit) {
    body(DependencyBuilder(dependencies))
}